const CurrencyCode = require('../models/currencyCode');

class CurrencyCodeRepo {
    constructor(model) {
        this.model = model;
    }

    async getAllCurrencyCodes() {
        return await this.model.findAll();
    }

    async getCurrencyCodeById(id) {
        return await this.model.findByPk(id);
    }

    async createCurrencyCode(currencyCode, name) {
        return await this.model.create({ CurrencyCode: currencyCode, Name: name });
    }

    async updateCurrencyCode(id, currencyCode, name) {
        const currencyCodeObj = await this.model.findByPk(id);
        currencyCodeObj.CurrencyCode = currencyCode;
        currencyCodeObj.Name = name;
        await currencyCodeObj.save();
        return currencyCodeObj;
    }

    async deleteCurrencyCode(id) {
        const currencyCodeObj = await this.model.findByPk(id);
        await currencyCodeObj.destroy();
        return currencyCodeObj;
    }
}

module.exports = new CurrencyCodeRepo(CurrencyCode);